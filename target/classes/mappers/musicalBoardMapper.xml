<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.care.root.mybatis.reservation.musicalBoardMapper">
   	<resultMap type="com.care.root.reservation.dto.musicalBoardDTO" id="board">
   		<id property="writeNo" column="writeNo"/><!-- primary key -->
   		<result property="title" column="title"/>
   		<result property="type" column="type"/>
   		<result property="comname" column="comname"/>
   		<result property="mu_date" column="pf_date"/>
   		<result property="mu_place" column="pf_place"/>
   		<result property="content" column="content"/>
   		<result property="image_file_name" column="Image_file_name"/>
   		<result property="hit" column="hit"/>
   		<result property="saveDate" column="saveDate"/>
   		<result property="form" column="form"/>
	</resultMap>
   	<select id="mBoardList" resultMap="board" >
	select B.* from(select rownum rn, A.* from
	(select * from performBoard order by writeNo desc)A)B
	where rn between #{s} and #{e}
	</select>
	<select id="mGetContent" resultMap="board">
   		select * from performBoard where writeNo=#{writeNo}
   	</select>
   	<update id="mUpHit">
		update performBoard set hit=hit+1 where writeNo=#{writeNo}
	</update>
   	<insert id="mWriteSave" >
		insert into performBoard(writeNo, title, type, comname, pf_date, pf_place, content, image_file_name, form)
		values(perform_board_seq.nextval,#{title},#{type},#{comname},#{mu_date},#{mu_place},#{content},#{image_file_name},#{form})
	</insert>
	<update id="mModify">
		update performBoard set title=#{title}, pf_date=#{mu_date}, pf_place=#{mu_place}, content=#{content}, image_file_name=#{image_file_name}, form=#{form} where write_no=#{writeNo}
	</update>
	<delete id="mDelete">
		delete from performBoard where writeNo=#{writeNo}
	</delete>
	<select id="selectMBoardCount" resultType="integer">
   		select count(*) from performBoard
   	</select>
</mapper>